"use strict";(globalThis.webpackChunkassetto_corsa_rl_docs=globalThis.webpackChunkassetto_corsa_rl_docs||[]).push([[662],{4693(e,r,n){n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"repository-structure","title":"Project Structure","description":"This page summarizes the repository layout and points you at the most important modules and classes to inspect when working on AssettoCorsaRL.","source":"@site/docs/repository-structure.md","sourceDirName":".","slug":"/repository-structure","permalink":"/AssettoCorsaRL-DOCS/repository-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/repository-structure.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Project Structure"},"sidebar":"tutorialSidebar","previous":{"title":"CLI","permalink":"/AssettoCorsaRL-DOCS/cli"},"next":{"title":"Gallery","permalink":"/AssettoCorsaRL-DOCS/gallery"}}');var t=n(4848),i=n(8453);const c={sidebar_position:5,title:"Project Structure"},o="Project Structure",l={},a=[{value:"Repository tree",id:"repository-tree",level:2},{value:"Key objects \ud83d\udd0d",id:"key-objects-",level:2},{value:"Environment",id:"environment",level:3},{value:"Trainer / training core",id:"trainer--training-core",level:3},{value:"Recorder / Visualizer",id:"recorder--visualizer",level:3},{value:"AC plugin &amp; telemetry",id:"ac-plugin--telemetry",level:3},{value:"Data / checkpoints",id:"data--checkpoints",level:3},{value:"Runner / policy loader",id:"runner--policy-loader",level:3},{value:"Tests",id:"tests",level:3},{value:"Quick tips",id:"quick-tips",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"project-structure",children:"Project Structure"})}),"\n",(0,t.jsx)(r.p,{children:"This page summarizes the repository layout and points you at the most important modules and classes to inspect when working on AssettoCorsaRL."}),"\n",(0,t.jsx)(r.h2,{id:"repository-tree",children:"Repository tree"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"assetto-corsa-rl/\r\n\u2523 configs/\r\n\u2503 \u2523 ac/\r\n\u2503 \u2517 car-racing/\r\n\u2503   \u2523 env_config.yaml\r\n\u2503   \u2523 model_config.yaml\r\n\u2503   \u2517 train_config.yaml\r\n\u2523 scripts/\r\n\u2503 \u2523 ac/\r\n\u2503 \u2503 \u2523 record_racing_line.py\r\n\u2503 \u2503 \u2523 vis_env_observation.py\r\n\u2503 \u2503 \u2517 vis_racing_line.py\r\n\u2503 \u2517 car-racing/\r\n\u2503   \u2523 load.py\r\n\u2503   \u2523 load_vae.py\r\n\u2503   \u2523 train_car_racing.py\r\n\u2503   \u2517 train_vae.py\r\n\u2523 src/\r\n\u2503 \u2517 assetto_corsa_rl/\r\n\u2503   \u2523 model/\r\n\u2503   \u2503 \u2523 noisy.py\r\n\u2503   \u2503 \u2523 sac.py\r\n\u2503   \u2503 \u2523 vae.py\r\n\u2503   \u2503 \u2517 __init__.py\r\n\u2503   \u2523 train/\r\n\u2503   \u2503 \u2523 train_core.py\r\n\u2503   \u2503 \u2523 train_utils.py\r\n\u2503   \u2503 \u2517 __init__.py\r\n\u2503   \u2523 ac_env.py\r\n\u2503   \u2523 ac_send_actions.py\r\n\u2503   \u2523 ac_telemetry_helper.py\r\n\u2503   \u2523 env_helper.py\r\n\u2503   \u2523 load.py\r\n\u2503   \u2517 __init__.py\r\n\u2523 tests/\r\n\u2503 \u2523 test_ac_env.py\r\n\u2503 \u2523 test_ac_reward.py\r\n\u2503 \u2523 test_env.py\r\n\u2503 \u2523 test_sac.py\r\n\u2503 \u2523 test_xbox_buttons.py\r\n\u2503 \u2517 test_xbox_controller.py\r\n\u2523 pyproject.toml\r\n\u2523 README.md\r\n\u2517 requirements.txt\r\n\u2517 setup.cfg\n"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"key-objects-",children:"Key objects \ud83d\udd0d"}),"\n",(0,t.jsx)(r.h3,{id:"environment",children:"Environment"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Class"}),": ",(0,t.jsx)(r.code,{children:"assetto_corsa_rl.ac_env.AssettoCorsa"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"What to inspect"}),": environment lifecycle, observation & action spaces, and how racing lines are loaded via ",(0,t.jsx)(r.code,{children:"AssettoCorsa._load_racing_line"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"File"}),": ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/src/assetto_corsa_rl/ac_env.py"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"trainer--training-core",children:"Trainer / training core"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Class"}),": ",(0,t.jsx)(r.code,{children:"assetto_corsa_rl.train.train_core.Trainer"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"What to inspect"}),": env stepping, buffering, and learning updates (see ",(0,t.jsx)(r.code,{children:"_do_update"}),")."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"File"}),": ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/src/assetto_corsa_rl/train/train_core.py"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"recorder--visualizer",children:"Recorder / Visualizer"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"RacingLineRecorder"}),": records laps and writes ",(0,t.jsx)(r.code,{children:"racing_lines.json"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"RacingLineVisualizer"}),": 3D visualization and ",(0,t.jsx)(r.code,{children:"load_racing_data"})," helper."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Files"}),": ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/scripts/ac/record_racing_line.py"}),", ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/scripts/ac/vis_racing_line.py"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"ac-plugin--telemetry",children:"AC plugin & telemetry"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Plugin hooks"}),": ",(0,t.jsx)(r.code,{children:"AC_RL.third_party.stdlib.AC_RL.acMain"}),", ",(0,t.jsx)(r.code,{children:"acUpdate"}),", ",(0,t.jsx)(r.code,{children:"handle_input_data"})," \u2014 plugin that sends telemetry JSON via UDP and accepts commands."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Telemetry helper"}),": ",(0,t.jsx)(r.code,{children:"AC_RL.telemetry.hexdump"})," \u2014 simple UDP listener/parser useful for debugging."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Files"}),": ",(0,t.jsx)(r.code,{children:"AC_RL/third_party/stdlib/AC_RL.py"}),", ",(0,t.jsx)(r.code,{children:"AC_RL/telemetry.py"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"data--checkpoints",children:"Data / checkpoints"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Racing line dataset"}),": ",(0,t.jsx)(r.code,{children:"racing_lines.json"})," \u2014 top-level JSON, contains ",(0,t.jsx)(r.code,{children:"num_laps"})," and ",(0,t.jsx)(r.code,{children:"laps[].positions[]"})," (timestamp, x, y, z)."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Experiment logs"}),": ",(0,t.jsx)(r.code,{children:"wandb/"})," run directories."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Checkpoints"}),": ",(0,t.jsx)(r.code,{children:"models/"})," (e.g., ",(0,t.jsx)(r.code,{children:"sac_checkpoint_100000.pt"}),")."]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"runner--policy-loader",children:"Runner / policy loader"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Entry"}),": ",(0,t.jsx)(r.code,{children:"assetto_corsa_rl.load.main"})," \u2014 loads an actor, calls ",(0,t.jsx)(r.code,{children:"env.step"}),", and handles actor outputs (action shaping/sampling are implemented here)."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"File"}),": ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/src/assetto_corsa_rl/load.py"})]}),"\n"]}),"\n",(0,t.jsx)(r.h3,{id:"tests",children:"Tests"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Core env tests"}),": ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/tests/test_ac_env.py"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Other unit tests"}),": ",(0,t.jsx)(r.code,{children:"assetto-corsa-rl/tests/"})," (look for module/unit tests here)."]}),"\n"]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h2,{id:"quick-tips",children:"Quick tips"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["To run tests: ",(0,t.jsx)(r.code,{children:"pytest assetto-corsa-rl/tests"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["To inspect the trainer loop quickly: open ",(0,t.jsx)(r.code,{children:"train_core.py"})," and search for ",(0,t.jsx)(r.code,{children:"_do_update"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:["To visualize recorded lines: run ",(0,t.jsx)(r.code,{children:"scripts/ac/vis_racing_line.py"})," (requires display dependencies)."]}),"\n"]}),"\n",(0,t.jsx)(r.hr,{})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,r,n){n.d(r,{R:()=>c,x:()=>o});var s=n(6540);const t={},i=s.createContext(t);function c(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);